"use strict";(self["webpackChunkdost"]=self["webpackChunkdost"]||[]).push([[129],{456:function(t,e,r){var n=r(6518),o=r(4576),i=r(9504),a=r(4154),s=r(5169),c=i(1.1.toString),u=o.Uint8Array,l=!u||!u.prototype.toHex||!function(){try{var t=new u([255,255,255,255,255,255,255,255]);return"ffffffffffffffff"===t.toHex()}catch(e){return!1}}();u&&n({target:"Uint8Array",proto:!0,forced:l},{toHex:function(){a(this),s(this.buffer);for(var t="",e=0,r=this.length;e<r;e++){var n=c(this[e],16);t+=1===n.length?"0"+n:n}return t}})},655:function(t,e,r){var n=r(6955),o=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},944:function(t){var e=TypeError;t.exports=function(t){var r=t&&t.alphabet;if(void 0===r||"base64"===r||"base64url"===r)return r||"base64";throw new e("Incorrect `alphabet` option")}},1108:function(t,e,r){var n=r(6955);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},1548:function(t,e,r){var n=r(4576),o=r(9039),i=r(9519),a=r(4215),s=n.structuredClone;t.exports=!!s&&!o(function(){if("DENO"===a&&i>92||"NODE"===a&&i>94||"BROWSER"===a&&i>97)return!1;var t=new ArrayBuffer(8),e=s(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength})},1549:function(t,e,r){r(6632)},2303:function(t,e,r){var n=r(4576),o=r(9504),i=n.Uint8Array,a=n.SyntaxError,s=n.parseInt,c=Math.min,u=/[^\da-f]/i,l=o(u.exec),h=o("".slice);t.exports=function(t,e){var r=t.length;if(r%2!==0)throw new a("String should be an even number of characters");var n=e?c(e.length,r/2):r/2,o=e||new i(n),d=0,p=0;while(p<n){var f=h(t,d,d+=2);if(l(u,f))throw new a("String should only contain hex characters");o[p++]=s(f,16)}return{bytes:o,read:d}}},2333:function(t,e,r){r.r(e),r.d(e,{default:function(){return K}});var n=r(641),o=r(33),i=r(2217);const a={key:0,class:"ri-close-circle-fill text-danger float-end fs-20"},s={key:1,class:"ri-checkbox-circle-fill text-success float-end fs-20"},c={class:"text-center mt-3 mb-3"},u=["src"],l={class:"fs-13 mb-0"},h={class:"text-muted fs-11 mb-0"},d={class:"d-flex"},p={class:"hstack gap-2"},f={key:0,class:"ri-close-circle-fill text-danger float-end fs-20"},g={key:1,class:"ri-checkbox-circle-fill text-success float-end fs-20"},m={class:"d-flex"},v={class:"footer p-2"},y={class:"p-3 mt-n1"},w=["disabled"];function b(t,e,b,E,_,A){const x=(0,n.g2)("BListGroupItem"),P=(0,n.g2)("Vue3SignaturePad"),L=(0,n.g2)("b-list-group"),R=(0,n.g2)("loading"),k=(0,n.g2)("Layout");return(0,n.uX)(),(0,n.Wv)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(L,{class:"list-group-fill-success mt-3"},{default:(0,n.k6)(()=>[(0,n.bF)(x,null,{default:(0,n.k6)(()=>[_.profile?((0,n.uX)(),(0,n.CE)("i",s)):((0,n.uX)(),(0,n.CE)("i",a)),e[9]||(e[9]=(0,n.Lk)("p",{class:"mt-2 mb-2 text-muted fs-10"},"Profile picture is missing. Upload a profile photo to continue. ",-1))]),_:1}),(0,n.bF)(x,null,{default:(0,n.k6)(()=>[(0,n.Lk)("div",c,[(0,n.Lk)("div",{class:"profile-user position-relative d-inline-block mx-auto mb-3",onClick:e[0]||(e[0]=t=>A.takePhoto())},[(0,n.Lk)("img",{src:_.photoPreview?_.photoPreview:r(6421),class:"rounded-circle avatar-lg img-thumbnail user-profile-image material-shadow"},null,8,u),e[10]||(e[10]=(0,n.Lk)("div",{class:"avatar-xs p-0 rounded-circle profile-photo-edit"},[(0,n.Lk)("label",{for:"profile-img-file-input",class:"profile-photo-edit avatar-xs"},[(0,n.Lk)("span",{class:"avatar-title rounded-circle bg-light text-body"},[(0,n.Lk)("i",{class:"ri-camera-fill"})])])],-1))]),(0,n.Lk)("h5",l,(0,o.v_)(A.user.firstname)+" "+(0,o.v_)(A.user.lastname),1),(0,n.Lk)("p",h,(0,o.v_)(A.user.email),1)])]),_:1}),(0,n.bF)(x,null,{default:(0,n.k6)(()=>[(0,n.Lk)("div",d,[(0,n.Lk)("button",{type:"button",onClick:e[1]||(e[1]=t=>A.uploadPhoto()),class:"btn w-100 btn-primary me-2"},"Save "),(0,n.Lk)("button",{type:"button",onClick:e[2]||(e[2]=t=>A.clearPhoto()),class:"btn w-100 btn-light me-2"},"Clear"),(0,n.Lk)("div",p,[(0,n.Lk)("button",{type:"button",onClick:e[3]||(e[3]=(...t)=>A.pickFromGallery&&A.pickFromGallery(...t)),class:"btn btn-success btn-icon waves-effect waves-light"},[...e[11]||(e[11]=[(0,n.Lk)("i",{class:"ri-image-2-fill"},null,-1)])])]),(0,n.Lk)("input",{ref:"fileInput",type:"file",accept:"image/*",style:{display:"none"},onChange:e[4]||(e[4]=(...t)=>A.onFilePicked&&A.onFilePicked(...t))},null,544)])]),_:1}),(0,n.bF)(x,null,{default:(0,n.k6)(()=>[_.signature?((0,n.uX)(),(0,n.CE)("i",g)):((0,n.uX)(),(0,n.CE)("i",f)),e[12]||(e[12]=(0,n.Lk)("p",{class:"mt-2 mb-2 text-muted fs-10"},"Signature required. Add your signature below.",-1))]),_:1}),(0,n.bF)(x,null,{default:(0,n.k6)(()=>[(0,n.bF)(P,{ref:"signaturePad",options:{penColor:"#000",minWidth:.5},style:{"background-color":"white",width:"100%",height:"180px","border-radius":"10px",border:"2px dashed #cccccc"}},null,512)]),_:1}),(0,n.bF)(x,null,{default:(0,n.k6)(()=>[(0,n.Lk)("div",m,[(0,n.Lk)("button",{type:"button",onClick:e[5]||(e[5]=t=>A.submitSignature()),class:"btn w-100 btn-primary me-2"},"Save "),(0,n.Lk)("button",{type:"button",onClick:e[6]||(e[6]=(...t)=>A.clearPad&&A.clearPad(...t)),class:"btn w-100 btn-light"},"Clear")])]),_:1})]),_:1}),(0,n.Lk)("footer",v,[(0,n.Lk)("div",y,[(0,n.Lk)("button",{onClick:e[7]||(e[7]=t=>A.submit()),class:(0,o.C4)(["btn w-100 btn-label",!t.loading&&_.signature&&_.profile?"btn-success":"btn-light"]),disabled:t.loading||!(_.signature&&_.profile)},[...e[13]||(e[13]=[(0,n.Lk)("div",{class:"d-flex"},[(0,n.Lk)("div",{class:"flex-shrink-0"},[(0,n.Lk)("i",{class:"ri-save-fill label-icon align-middle fs-16 me-2"})]),(0,n.Lk)("div",{class:"flex-grow-1"}," Mark as completed ")],-1)])],10,w)])]),(0,n.bF)(R,{active:_.isLoading,"onUpdate:active":e[8]||(e[8]=t=>_.isLoading=t),"background-color":"black","can-cancel":!1,"is-full-page":t.fullPage},{default:(0,n.k6)(()=>[...e[14]||(e[14]=[(0,n.Lk)("div",{class:"text-center"},[(0,n.Lk)("img",{src:i,class:"heartbeat-spin",style:{width:"40px",height:"auto"},alt:"loading..."}),(0,n.Lk)("br"),(0,n.Lk)("br"),(0,n.Lk)("span",{class:"text-white fw-semibold fs-10"},"Good things take timeâ€¦")],-1)])]),_:1},8,["active","is-full-page"])]),_:1})}r(4114),r(6573),r(8100),r(7936),r(9577),r(1549),r(9797),r(9631),r(5623),r(4979),r(4603),r(7566),r(8721);var E=r(4335),_=r(6278),A=r(5618),x=r(953);
/*!
 * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad
 * (c) 2020 Szymon Nowak | Released under the MIT license
 */
class P{constructor(t,e,r){this.x=t,this.y=e,this.time=r||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class L{constructor(t,e,r,n,o,i){this.startPoint=t,this.control2=e,this.control1=r,this.endPoint=n,this.startWidth=o,this.endWidth=i}static fromPoints(t,e){const r=this.calculateControlPoints(t[0],t[1],t[2]).c2,n=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new L(t[1],r,n,t[2],e.start,e.end)}static calculateControlPoints(t,e,r){const n=t.x-e.x,o=t.y-e.y,i=e.x-r.x,a=e.y-r.y,s={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+r.x)/2,y:(e.y+r.y)/2},u=Math.sqrt(n*n+o*o),l=Math.sqrt(i*i+a*a),h=s.x-c.x,d=s.y-c.y,p=l/(u+l),f={x:c.x+h*p,y:c.y+d*p},g=e.x-f.x,m=e.y-f.y;return{c1:new P(s.x+g,s.y+m),c2:new P(c.x+g,c.y+m)}}length(){const t=10;let e,r,n=0;for(let o=0;o<=t;o+=1){const i=o/t,a=this.point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this.point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){const t=a-e,o=s-r;n+=Math.sqrt(t*t+o*o)}e=a,r=s}return n}point(t,e,r,n,o){return e*(1-t)*(1-t)*(1-t)+3*r*(1-t)*(1-t)*t+3*n*(1-t)*t*t+o*t*t*t}}function R(t,e=250){let r,n,o,i=0,a=null;const s=()=>{i=Date.now(),a=null,r=t.apply(n,o),a||(n=null,o=[])};return function(...c){const u=Date.now(),l=e-(u-i);return n=this,o=c,l<=0||l>e?(a&&(clearTimeout(a),a=null),i=u,r=t.apply(n,o),a||(n=null,o=[])):a||(a=window.setTimeout(s,l)),r}}class k{constructor(t,e={}){this.canvas=t,this.options=e,this._handleMouseDown=t=>{1===t.which&&(this._mouseButtonDown=!0,this._strokeBegin(t))},this._handleMouseMove=t=>{this._mouseButtonDown&&this._strokeMoveUpdate(t)},this._handleMouseUp=t=>{1===t.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(t))},this._handleTouchStart=t=>{if(t.preventDefault(),1===t.targetTouches.length){const e=t.changedTouches[0];this._strokeBegin(e)}},this._handleTouchMove=t=>{t.preventDefault();const e=t.targetTouches[0];this._strokeMoveUpdate(e)},this._handleTouchEnd=t=>{const e=t.target===this.canvas;if(e){t.preventDefault();const e=t.changedTouches[0];this._strokeEnd(e)}},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.dotSize=e.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.onBegin=e.onBegin,this.onEnd=e.onEnd,this._strokeMoveUpdate=this.throttle?R(k.prototype._strokeUpdate,this.throttle):k.prototype._strokeUpdate,this._ctx=t.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(t,e={},r){const n=new Image,o=e.ratio||window.devicePixelRatio||1,i=e.width||this.canvas.width/o,a=e.height||this.canvas.height/o;this._reset(),n.onload=()=>{this._ctx.drawImage(n,0,0,i,a),r&&r()},n.onerror=t=>{r&&r(t)},n.src=t,this._isEmpty=!1}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t){this.clear(),this._fromData(t,({color:t,curve:e})=>this._drawCurve({color:t,curve:e}),({color:t,point:e})=>this._drawDot({color:t,point:e})),this._data=t}toData(){return this._data}_strokeBegin(t){const e={color:this.penColor,points:[]};"function"===typeof this.onBegin&&this.onBegin(t),this._data.push(e),this._reset(),this._strokeUpdate(t)}_strokeUpdate(t){if(0===this._data.length)return void this._strokeBegin(t);const e=t.clientX,r=t.clientY,n=this._createPoint(e,r),o=this._data[this._data.length-1],i=o.points,a=i.length>0&&i[i.length-1],s=!!a&&n.distanceTo(a)<=this.minDistance,c=o.color;if(!a||!a||!s){const t=this._addPoint(n);a?t&&this._drawCurve({color:c,curve:t}):this._drawDot({color:c,point:n}),i.push({time:n.time,x:n.x,y:n.y})}}_strokeEnd(t){this._strokeUpdate(t),"function"===typeof this.onEnd&&this.onEnd(t)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(t,e){const r=this.canvas.getBoundingClientRect();return new P(t-r.left,e-r.top,(new Date).getTime())}_addPoint(t){const{_lastPoints:e}=this;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);const t=this._calculateCurveWidths(e[1],e[2]),r=L.fromPoints(e,t);return e.shift(),r}return null}_calculateCurveWidths(t,e){const r=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(r),o={end:n,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=n,o}_strokeWidth(t){return Math.max(this.maxWidth/(t+1),this.minWidth)}_drawCurveSegment(t,e,r){const n=this._ctx;n.moveTo(t,e),n.arc(t,e,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:t,curve:e}){const r=this._ctx,n=e.endWidth-e.startWidth,o=2*Math.floor(e.length());r.beginPath(),r.fillStyle=t;for(let i=0;i<o;i+=1){const t=i/o,r=t*t,a=r*t,s=1-t,c=s*s,u=c*s;let l=u*e.startPoint.x;l+=3*c*t*e.control1.x,l+=3*s*r*e.control2.x,l+=a*e.endPoint.x;let h=u*e.startPoint.y;h+=3*c*t*e.control1.y,h+=3*s*r*e.control2.y,h+=a*e.endPoint.y;const d=Math.min(e.startWidth+a*n,this.maxWidth);this._drawCurveSegment(l,h,d)}r.closePath(),r.fill()}_drawDot({color:t,point:e}){const r=this._ctx,n="function"===typeof this.dotSize?this.dotSize():this.dotSize;r.beginPath(),this._drawCurveSegment(e.x,e.y,n),r.closePath(),r.fillStyle=t,r.fill()}_fromData(t,e,r){for(const n of t){const{color:t,points:o}=n;if(o.length>1)for(let r=0;r<o.length;r+=1){const n=o[r],i=new P(n.x,n.y,n.time);this.penColor=t,0===r&&this._reset();const a=this._addPoint(i);a&&e({color:t,curve:a})}else this._reset(),r({color:t,point:o[0]})}}_toSVG(){const t=this._data,e=Math.max(window.devicePixelRatio||1,1),r=0,n=0,o=this.canvas.width/e,i=this.canvas.height/e,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(t,({color:t,curve:e})=>{const r=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){const n=`M ${e.startPoint.x.toFixed(3)},${e.startPoint.y.toFixed(3)} C ${e.control1.x.toFixed(3)},${e.control1.y.toFixed(3)} ${e.control2.x.toFixed(3)},${e.control2.y.toFixed(3)} ${e.endPoint.x.toFixed(3)},${e.endPoint.y.toFixed(3)}`;r.setAttribute("d",n),r.setAttribute("stroke-width",(2.25*e.endWidth).toFixed(3)),r.setAttribute("stroke",t),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),a.appendChild(r)}},({color:t,point:e})=>{const r=document.createElement("circle"),n="function"===typeof this.dotSize?this.dotSize():this.dotSize;r.setAttribute("r",n.toString()),r.setAttribute("cx",e.x.toString()),r.setAttribute("cy",e.y.toString()),r.setAttribute("fill",t),a.appendChild(r)});const s="data:image/svg+xml;base64,",c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${r} ${n} ${o} ${i}" width="${o}" height="${i}">`;let u=a.innerHTML;if(void 0===u){const t=document.createElement("dummy"),e=a.childNodes;t.innerHTML="";for(let r=0;r<e.length;r+=1)t.appendChild(e[r].cloneNode(!0));u=t.innerHTML}const l="</svg>",h=c+u+l;return s+btoa(h)}}var T=k,U={format:"image/png",quality:.92,width:void 0,height:void 0,Canvas:void 0,crossOrigin:void 0},C=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e={}),new Promise(function(r){e=Object.assign({},U,e);var n=e.Canvas?new e.Canvas:window.document.createElement("canvas"),o=e.Image||window.Image,i=t.map(function(t){return new Promise(function(r,n){"Object"!==t.constructor.name&&(t={src:t});var i=new o;i.crossOrigin=e.crossOrigin,i.onerror=function(){return n(new Error("Couldn't load image"))},i.onload=function(){return r(Object.assign({},t,{img:i}))},i.src=t.src})}),a=n.getContext("2d");r(Promise.all(i).then(function(t){var r=function(r){return e[r]||Math.max.apply(Math,t.map(function(t){return t.img[r]}))};return n.width=r("width"),n.height=r("height"),t.forEach(function(t){return a.globalAlpha=t.opacity?t.opacity:1,a.drawImage(t.img,t.x||0,t.y||0)}),e.Canvas&&"image/jpeg"===e.format?new Promise(function(t,r){n.toDataURL(e.format,{quality:e.quality,progressive:!1},function(e,n){e?r(e):t(n)})}):n.toDataURL(e.format,e.quality)}))})},D=C;let S,I;function M(t,e,r,n=Date.now()){let o=t.length,i=new Uint8Array(o);while(o--)i[o]=t.charCodeAt(o);return new File([i],e,{type:r,lastModified:n})}function O(t,e,r=Date.now()){const n=t.split(","),o=n[0],i=o.match(/:(.*?);/);if(!i)throw new Error("Invalid data url");const a=i[1],s=atob(n[1]);return M(s,e,a,r)}(function(t){t["PNG"]="image/png",t["JPEG"]="image/jpeg",t["SVG"]="image/svg+xml"})(S||(S={})),function(t){t["FILE"]="file",t["DATA_URL"]="data_url"}(I||(I={}));const F=t=>JSON.parse(JSON.stringify(t)),N={x:0,y:0,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="},B={dotSize:1.5,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7};var W=(0,n.pM)({name:"VueSignaturePad",props:{modelValue:{type:[String,File],required:!1},width:{type:Number,default:250,validator:function(t){return 0<=t&&t<=99999}},height:{type:Number,default:150,validator:function(t){return 0<=t&&t<=99999}},saveType:{type:String,default:S.PNG,validator:function(t){const e=Object.values(S);return!!e.includes(t)||(console.warn(`The Image type is incorrect! Supported ones are ${e.join(", ")}.`),!1)}},saveOutput:{type:String,default:I.DATA_URL,validator:function(t){const e=Object.values(I);return!!e.includes(t)||(console.warn(`The save output is incorrect! Supported ones are ${e.join(", ")}.`),!1)}},customStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>B},images:{type:Array,default:()=>[]}},setup(t,e){const r=(0,x.Kh)({cacheImages:[],onResizeHandler:null,signaturePad:{},signatureData:N}),o=(0,x.KR)(null),i=(0,n.EW)(()=>{if(!o.value)throw new Error('No canvas could be found with this "ref" in the template');return o.value}),a=(0,n.EW)(()=>{const e=Array.from(F(t.images)),n=Array.from(F(r.cacheImages));return[...e,...n]});function s(){const t=i.value,e=r.signaturePad.toData(),n=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*n,t.height=t.offsetHeight*n;const o=t.getContext("2d");o&&o.scale(n,n),r.signaturePad.clear(),r.signatureData=N,r.signaturePad.fromData(e)}function c(e=t.saveType,n){if(r.signaturePad.isEmpty()){if(t.saveOutput===I.FILE)return{isEmpty:!0,file:null,output:I.FILE};if(t.saveOutput===I.DATA_URL)return{isEmpty:!0,data:null,output:I.DATA_URL};throw new Error(`This saveOutput ${t.saveOutput} is not supported`)}const o=r.signaturePad.toDataURL(e,n);if(r.signatureData.src=o,t.saveOutput===I.FILE)return{isEmpty:!1,file:O(o,"signature"),output:I.FILE};if(t.saveOutput===I.DATA_URL)return{isEmpty:!1,data:o,output:I.DATA_URL};throw new Error(`This saveOutput ${t.saveOutput} is not supported`)}function u(){const t=r.signaturePad.toData();t&&r.signaturePad.fromData(t.slice(0,-1))}function l(){const t=c();let r=null;t.output===I.FILE?r=t.file:t.output===I.DATA_URL&&(r=t.data),e.emit("input",r)}function h(e){return r.signatureData=e,D([...t.images,...r.cacheImages,r.signatureData])}function d(e=[]){return r.cacheImages=[...r.cacheImages,...e],D([...t.images,...r.cacheImages,r.signatureData])}function p(t,e={},n){r.signaturePad.fromDataURL(t,e,n)}function f(t){r.signaturePad.fromData(t)}function g(t=S.PNG,e){return r.signaturePad.toDataURL(t,e)}function m(){return r.signaturePad.toData()}function v(){r.signaturePad.off()}function y(){r.signaturePad.on()}function w(){return r.signaturePad.isEmpty()}function b(){return a.value}function E(){return r.cacheImages=[],r.cacheImages}function _(){r.signaturePad.clear(),e.emit("input",null)}return(0,n.wB)(()=>t.options,t=>{Object.keys(t).forEach(e=>{Object.prototype.hasOwnProperty.call(r.signaturePad,e)&&(r.signaturePad[e]=t[e])})}),(0,n.sV)(()=>{const e=i.value,n=new T(e,{onEnd:l,...t.options});r.signaturePad=n,r.onResizeHandler=s,window.addEventListener("resize",r.onResizeHandler,!1),s()}),(0,n.xo)(()=>{r.onResizeHandler&&window.removeEventListener("resize",r.onResizeHandler,!1)}),{...(0,x.QW)(r),signaturePadCanvas:o,propsImagesAndCustomImages:a,resizeCanvas:s,saveSignature:c,undoSignature:u,mergeImageAndSignature:h,addImages:d,fromDataURL:p,toDataURL:g,fromData:f,toData:m,lockSignaturePad:v,openSignaturePad:y,isEmpty:w,getPropImagesAndCacheImages:b,clearCacheImages:E,clearSignature:_}},render(){const{width:t,height:e,customStyle:r}=this,o={width:`${t}px`,height:`${e}px`};return(0,n.h)("div",{style:{...o,...r}},[(0,n.h)("canvas",{style:{width:"100%",height:"100%"},ref:"signaturePadCanvas"})])}}),$=(()=>{const t=W;return t.install=e=>{e.component("SignaturePad",t)},t})(),j=$,V=r(3688),z=r.n(V),H=r(5111),q=r(6546),G={components:{Layout:A.A,Vue3SignaturePad:j,Loading:z()},data(){return{lists:[],participant_id:this.$store.state.auth.user.id,load:!1,imageUrl:"",render:!1,profile:!!this.$store.state.auth.user.avatar,signature:!!this.$store.state.auth.user.signature,isLoading:!1,photoPreview:null,lastPhotoSource:"",cameraDirection:"rear",lastPhotoUri:null}},computed:{user(){return this.$store.state.auth.user?.data||null}},mounted(){const t=this.user.signature;t&&t.startsWith("data:image")&&this.$nextTick(()=>{this.$refs.signaturePad.fromDataURL(t)})},methods:{...(0,_.i0)({updateImg:"auth/update"}),async takePhoto(){this.isLoading=!0;try{if(!H.i7||"web"===q.Ii.getPlatform())return this.$refs.fileInput.click(),this.lastPhotoSource="web",void(this.isLoading=!1);const t=await H.i7.getPhoto({quality:90,allowEditing:!1,resultType:H.LK.Uri,source:H.ru.Camera,direction:"rear"===this.cameraDirection?H.Jb.Rear:H.Jb.Front});this.lastPhotoSource="camera",this.photoPreview=t.webPath,this.lastPhotoUri=t.webPath}catch(t){console.error("takePhoto error",t),"web"===q.Ii.getPlatform()?(this.$refs.fileInput.click(),this.lastPhotoSource="web"):alert("Camera error: "+(t?.message||t))}finally{this.isLoading=!1}},async resizeImage(t,e=200){return new Promise((r,n)=>{const o=new Image;o.onload=()=>{const t=document.createElement("canvas"),n=t.getContext("2d");t.width=e,t.height=e;const i=Math.min(o.width,o.height),a=(o.width-i)/2,s=(o.height-i)/2;n.drawImage(o,a,s,i,i,0,0,e,e),t.toBlob(t=>r(t),"image/png",.8)},o.onerror=t=>n(t),o.src=URL.createObjectURL(t)})},async pickFromGallery(){this.isLoading=!0;try{if(!H.i7||"web"===q.Ii.getPlatform())return this.$refs.fileInput.click(),this.lastPhotoSource="web",void(this.isLoading=!1);const t=await H.i7.getPhoto({quality:90,allowEditing:!1,resultType:H.LK.Uri,source:H.ru.Photos});this.lastPhotoSource="gallery",this.photoPreview=t.webPath,this.lastPhotoUri=t.webPath}catch(t){console.error("pickFromGallery error",t),"web"===q.Ii.getPlatform()?(this.$refs.fileInput.click(),this.lastPhotoSource="web"):alert("Gallery error: "+(t?.message||t))}finally{this.isLoading=!1}},dataURLToBlob(t){const e=t.split(","),r=e[0].match(/:(.*?);/)[1],n=atob(e[1]);let o=n.length;const i=new Uint8Array(o);while(o--)i[o]=n.charCodeAt(o);return new Blob([i],{type:r})},async onFilePicked(t){const e=t.target.files?.[0];if(e){this.lastPhotoSource="web",this.isLoading=!0;try{const t=new FileReader;t.onload=()=>{this.photoPreview=t.result,this.lastPhotoUri=null,this.isLoading=!1},t.readAsDataURL(e)}catch(r){console.error(r),this.isLoading=!1}finally{t.target.value=""}}},async uploadPhoto(){if(this.lastPhotoUri||this.photoPreview){this.isLoading=!0;try{let t;if(this.lastPhotoUri){const e=await fetch(this.lastPhotoUri);t=await e.blob()}else this.photoPreview?.startsWith("data:")&&(t=this.dataURLToBlob(this.photoPreview));if(!t)return void alert("Failed to prepare file for upload");const e=await this.resizeImage(t,200);this.photoPreview=URL.createObjectURL(e);let r=new FormData;r.append("id",this.$store.state.auth.user.data.id),r.append("image",e,"avatar.jpg");const n=await E.A.post("/avatar",r,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("[UploadPhoto] Server response:",n.data),n.data.status){this.profile=!0;const t=n.data.data;this.$store.commit("auth/updateAvatar",t),this.isLoading=!1}}catch(t){console.error("upload error",t),alert("Upload failed: "+(t?.message||t))}finally{this.isLoading=!1}}else alert("No photo to upload")},clearPhoto(){this.photoPreview=null,this.lastPhotoUri=null,this.lastPhotoSource=""},async submitSignature(){try{this.isLoading=!1;const t=this.$refs.signaturePad;if(!t)return;if(t.isEmpty())return console.log("Please add your signature first."),this.signature=!1,void(this.isLoading=!1);const e=t.$el.querySelector("canvas");if(!e)return;e.toBlob(async t=>{if(!t)return void console.log("Please add your signature first.");const e=new FormData;e.append("id",this.$store.state.auth.user.data.id),e.append("signature",t,"signature.png"),await E.A.post("/signature",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{t.data.status&&(this.signature=!0,this.isLoading=!1,this.$store.commit("auth/updateSignature",t.data.data))})},"image/png")}catch(t){console.error(t),console.log("Please add your signature first.")}},clearPad(){this.$refs.signaturePad.clearSignature?.(),this.$refs.signaturePad.clear?.()},async submit(){this.status=!0,await E.A.post("completed",{id:this.$store.state.auth.user.data.id}).then(t=>{t.data.status&&(this.$store.commit("auth/updateCompleted",t.data.data),this.$router.push({name:"dashboard"}))}).catch(({response:t})=>{console.log(t)})}}},Y=r(6262);const X=(0,Y.A)(G,[["render",b]]);var K=X},2603:function(t,e,r){var n=r(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},2804:function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e+"+/",n=e+"-_",o=function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e};t.exports={i2c:r,c2i:o(r),i2cUrl:n,c2iUrl:o(n)}},2812:function(t){var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},2967:function(t,e,r){var n=r(6706),o=r(34),i=r(7750),a=r(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=n(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(s){}return function(r,n){return i(r),a(n),o(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},3167:function(t,e,r){var n=r(4901),o=r(34),i=r(2967);t.exports=function(t,e,r){var a,s;return i&&n(a=e.constructor)&&a!==r&&o(s=a.prototype)&&s!==r.prototype&&i(t,s),t}},3238:function(t,e,r){var n=r(4576),o=r(7811),i=r(7394),a=n.DataView;t.exports=function(t){if(!o||0!==i(t))return!1;try{return new a(t),!1}catch(e){return!0}}},3463:function(t){var e=TypeError;t.exports=function(t){if("string"==typeof t)return t;throw new e("Argument is not a string")}},3506:function(t,e,r){var n=r(3925),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},3925:function(t,e,r){var n=r(34);t.exports=function(t){return n(t)||null===t}},3972:function(t,e,r){var n=r(34),o=String,i=TypeError;t.exports=function(t){if(void 0===t||n(t))return t;throw new i(o(t)+" is not an object or undefined")}},4154:function(t,e,r){var n=r(6955),o=TypeError;t.exports=function(t){if("Uint8Array"===n(t))return t;throw new o("Argument is not an Uint8Array")}},4215:function(t,e,r){var n=r(4576),o=r(8077),i=r(2195),a=function(t){return o.slice(0,t.length)===t};t.exports=function(){return a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"}()},4226:function(t,e,r){var n=r(6518),o=r(4576),i=r(3463),a=r(4154),s=r(5169),c=r(2303);o.Uint8Array&&n({target:"Uint8Array",proto:!0},{setFromHex:function(t){a(this),i(t),s(this.buffer);var e=c(t,this).read;return{read:e,written:e/2}}})},4483:function(t,e,r){var n,o,i,a,s=r(4576),c=r(9429),u=r(1548),l=s.structuredClone,h=s.ArrayBuffer,d=s.MessageChannel,p=!1;if(u)p=function(t){l(t,{transfer:[t]})};else if(h)try{d||(n=c("worker_threads"),n&&(d=n.MessageChannel)),d&&(o=new d,i=new h(2),a=function(t){o.port1.postMessage(null,[t])},2===i.byteLength&&(a(i),0===i.byteLength&&(p=a)))}catch(f){}t.exports=p},4603:function(t,e,r){var n=r(6840),o=r(9504),i=r(655),a=r(2812),s=URLSearchParams,c=s.prototype,u=o(c.append),l=o(c["delete"]),h=o(c.forEach),d=o([].push),p=new s("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&n(c,"delete",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=[];h(this,function(t,e){d(n,{key:e,value:t})}),a(e,1);var o,s=i(t),c=i(r),p=0,f=0,g=!1,m=n.length;while(p<m)o=n[p++],g||o.key===s?(g=!0,l(this,o.key)):f++;while(f<m)o=n[f++],o.key===s&&o.value===c||u(this,o.key,o.value)},{enumerable:!0,unsafe:!0})},4644:function(t,e,r){var n,o,i,a=r(7811),s=r(3724),c=r(4576),u=r(4901),l=r(34),h=r(9297),d=r(6955),p=r(6823),f=r(6699),g=r(6840),m=r(2106),v=r(1625),y=r(2787),w=r(2967),b=r(8227),E=r(3392),_=r(1181),A=_.enforce,x=_.get,P=c.Int8Array,L=P&&P.prototype,R=c.Uint8ClampedArray,k=R&&R.prototype,T=P&&y(P),U=L&&y(L),C=Object.prototype,D=c.TypeError,S=b("toStringTag"),I=E("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",O=a&&!!w&&"Opera"!==d(c.opera),F=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},W=function(t){if(!l(t))return!1;var e=d(t);return"DataView"===e||h(N,e)||h(B,e)},$=function(t){var e=y(t);if(l(e)){var r=x(e);return r&&h(r,M)?r[M]:$(e)}},j=function(t){if(!l(t))return!1;var e=d(t);return h(N,e)||h(B,e)},V=function(t){if(j(t))return t;throw new D("Target is not a typed array")},z=function(t){if(u(t)&&(!w||v(T,t)))return t;throw new D(p(t)+" is not a typed array constructor")},H=function(t,e,r,n){if(s){if(r)for(var o in N){var i=c[o];if(i&&h(i.prototype,t))try{delete i.prototype[t]}catch(a){try{i.prototype[t]=e}catch(u){}}}U[t]&&!r||g(U,t,r?e:O&&L[t]||e,n)}},q=function(t,e,r){var n,o;if(s){if(w){if(r)for(n in N)if(o=c[n],o&&h(o,t))try{delete o[t]}catch(i){}if(T[t]&&!r)return;try{return g(T,t,r?e:O&&T[t]||e)}catch(i){}}for(n in N)o=c[n],!o||o[t]&&!r||g(o,t,e)}};for(n in N)o=c[n],i=o&&o.prototype,i?A(i)[M]=o:O=!1;for(n in B)o=c[n],i=o&&o.prototype,i&&(A(i)[M]=o);if((!O||!u(T)||T===Function.prototype)&&(T=function(){throw new D("Incorrect invocation")},O))for(n in N)c[n]&&w(c[n],T);if((!O||!U||U===C)&&(U=T.prototype,O))for(n in N)c[n]&&w(c[n].prototype,U);if(O&&y(k)!==U&&w(k,U),s&&!h(U,S))for(n in F=!0,m(U,S,{configurable:!0,get:function(){return l(this)?this[I]:void 0}}),N)c[n]&&f(c[n],I,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:F&&I,aTypedArray:V,aTypedArrayConstructor:z,exportTypedArrayMethod:H,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:$,isView:W,isTypedArray:j,TypedArray:T,TypedArrayPrototype:U}},4979:function(t,e,r){var n=r(6518),o=r(4576),i=r(7751),a=r(6980),s=r(4913).f,c=r(9297),u=r(679),l=r(3167),h=r(2603),d=r(5002),p=r(8574),f=r(3724),g=r(6395),m="DOMException",v=i("Error"),y=i(m),w=function(){u(this,b);var t=arguments.length,e=h(t<1?void 0:arguments[0]),r=h(t<2?void 0:arguments[1],"Error"),n=new y(e,r),o=new v(e);return o.name=m,s(n,"stack",a(1,p(o.stack,1))),l(n,this,w),n},b=w.prototype=y.prototype,E="stack"in new v(m),_="stack"in new y(1,2),A=y&&f&&Object.getOwnPropertyDescriptor(o,m),x=!!A&&!(A.writable&&A.configurable),P=E&&!x&&!_;n({global:!0,constructor:!0,forced:g||P},{DOMException:P?w:y});var L=i(m),R=L.prototype;if(R.constructor!==L)for(var k in g||s(R,"constructor",a(1,L)),d)if(c(d,k)){var T=d[k],U=T.s;c(L,U)||s(L,U,a(6,T.c))}},5002:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},5111:function(t,e,r){r.d(e,{i7:function(){return c},Jb:function(){return o},LK:function(){return i},ru:function(){return n}});var n,o,i,a=r(6546);(function(t){t["Prompt"]="PROMPT",t["Camera"]="CAMERA",t["Photos"]="PHOTOS"})(n||(n={})),function(t){t["Rear"]="REAR",t["Front"]="FRONT"}(o||(o={})),function(t){t["Uri"]="uri",t["Base64"]="base64",t["DataUrl"]="dataUrl"}(i||(i={}));class s extends a.E_{async getPhoto(t){return new Promise(async(e,r)=>{if(t.webUseInput||t.source===n.Photos)this.fileInputExperience(t,e,r);else if(t.source===n.Prompt){let n=document.querySelector("pwa-action-sheet");n||(n=document.createElement("pwa-action-sheet"),document.body.appendChild(n)),n.header=t.promptLabelHeader||"Photo",n.cancelable=!1,n.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],n.addEventListener("onSelection",async n=>{const o=n.detail;0===o?this.fileInputExperience(t,e,r):this.cameraExperience(t,e,r)})}else this.cameraExperience(t,e,r)})}async pickImages(t){return new Promise(async(t,e)=>{this.multipleFileInputExperience(t,e)})}async cameraExperience(t,e,r){if(customElements.get("pwa-camera-modal")){const i=document.createElement("pwa-camera-modal");i.facingMode=t.direction===o.Front?"user":"environment",document.body.appendChild(i);try{await i.componentOnReady(),i.addEventListener("onPhoto",async n=>{const o=n.detail;null===o?r(new a.I9("User cancelled photos app")):o instanceof Error?r(o):e(await this._getCameraPhoto(o,t)),i.dismiss(),document.body.removeChild(i)}),i.present()}catch(n){this.fileInputExperience(t,e,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,e,r)}fileInputExperience(t,e,r){let i=document.querySelector("#_capacitor-camera-input");const s=()=>{var t;null===(t=i.parentNode)||void 0===t||t.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",r=>{const n=i.files[0];let o="jpeg";if("image/png"===n.type?o="png":"image/gif"===n.type&&(o="gif"),"dataUrl"===t.resultType||"base64"===t.resultType){const r=new FileReader;r.addEventListener("load",()=>{if("dataUrl"===t.resultType)e({dataUrl:r.result,format:o});else if("base64"===t.resultType){const t=r.result.split(",")[1];e({base64String:t,format:o})}s()}),r.readAsDataURL(n)}else e({webPath:URL.createObjectURL(n),format:o}),s()}),i.addEventListener("cancel",t=>{r(new a.I9("User cancelled photos app")),s()})),i.accept="image/*",i.capture=!0,t.source===n.Photos||t.source===n.Prompt?i.removeAttribute("capture"):t.direction===o.Front?i.capture="user":t.direction===o.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(t,e){let r=document.querySelector("#_capacitor-camera-input-multiple");const n=()=>{var t;null===(t=r.parentNode)||void 0===t||t.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",e=>{const o=[];for(let t=0;t<r.files.length;t++){const e=r.files[t];let n="jpeg";"image/png"===e.type?n="png":"image/gif"===e.type&&(n="gif"),o.push({webPath:URL.createObjectURL(e),format:n})}t({photos:o}),n()}),r.addEventListener("cancel",t=>{e(new a.I9("User cancelled photos app")),n()})),r.accept="image/*",r.click()}_getCameraPhoto(t,e){return new Promise((r,n)=>{const o=new FileReader,i=t.type.split("/")[1];"uri"===e.resultType?r({webPath:URL.createObjectURL(t),format:i,saved:!1}):(o.readAsDataURL(t),o.onloadend=()=>{const t=o.result;"dataUrl"===e.resultType?r({dataUrl:t,format:i,saved:!1}):r({base64String:t.split(",")[1],format:i,saved:!1})},o.onerror=t=>{n(t)})})}async checkPermissions(){if("undefined"===typeof navigator||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{const t=await window.navigator.permissions.query({name:"camera"});return{camera:t.state,photos:"granted"}}catch(t){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new s;const c=(0,a.F3)("Camera",{web:()=>new s})},5169:function(t,e,r){var n=r(3238),o=TypeError;t.exports=function(t){if(n(t))throw new o("ArrayBuffer is detached");return t}},5623:function(t,e,r){r(456)},5636:function(t,e,r){var n=r(4576),o=r(9504),i=r(6706),a=r(7696),s=r(5169),c=r(7394),u=r(4483),l=r(1548),h=n.structuredClone,d=n.ArrayBuffer,p=n.DataView,f=Math.min,g=d.prototype,m=p.prototype,v=o(g.slice),y=i(g,"resizable","get"),w=i(g,"maxByteLength","get"),b=o(m.getInt8),E=o(m.setInt8);t.exports=(l||u)&&function(t,e,r){var n,o=c(t),i=void 0===e?o:a(e),g=!y||!y(t);if(s(t),l&&(t=h(t,{transfer:[t]}),o===i&&(r||g)))return t;if(o>=i&&(!r||g))n=v(t,0,i);else{var m=r&&!g&&w?{maxByteLength:w(t)}:void 0;n=new d(i,m);for(var _=new p(t),A=new p(n),x=f(i,o),P=0;P<x;P++)E(A,P,b(_,P))}return l||u(t),n}},5854:function(t,e,r){var n=r(2777),o=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new o("Can't convert number to bigint");return BigInt(e)}},6193:function(t,e,r){var n=r(4215);t.exports="NODE"===n},6573:function(t,e,r){var n=r(3724),o=r(2106),i=r(3238),a=ArrayBuffer.prototype;n&&!("detached"in a)&&o(a,"detached",{configurable:!0,get:function(){return i(this)}})},6632:function(t,e,r){var n=r(6518),o=r(4576),i=r(9143),a=r(4154),s=o.Uint8Array,c=!s||!s.prototype.setFromBase64||!function(){var t=new s([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(e){}try{return void t.setFromBase64("a")}catch(e){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();s&&n({target:"Uint8Array",proto:!0,forced:c},{setFromBase64:function(t){a(this);var e=i(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}})},6706:function(t,e,r){var n=r(9504),o=r(9306);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(i){}}},7394:function(t,e,r){var n=r(4576),o=r(6706),i=r(2195),a=n.ArrayBuffer,s=n.TypeError;t.exports=a&&o(a.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==i(t))throw new s("ArrayBuffer expected");return t.byteLength}},7566:function(t,e,r){var n=r(6840),o=r(9504),i=r(655),a=r(2812),s=URLSearchParams,c=s.prototype,u=o(c.getAll),l=o(c.has),h=new s("a=1");!h.has("a",2)&&h.has("a",void 0)||n(c,"has",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=u(this,t);a(e,1);var o=i(r),s=0;while(s<n.length)if(n[s++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})},7696:function(t,e,r){var n=r(1291),o=r(8014),i=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=o(e);if(e!==r)throw new i("Wrong length or index");return r}},7811:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7936:function(t,e,r){var n=r(6518),o=r(5636);o&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(t,e,r){var n=r(6518),o=r(5636);o&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},8574:function(t,e,r){var n=r(9504),o=Error,i=n("".replace),a=function(t){return String(new o(t).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)while(e--)t=i(t,s,"");return t}},8721:function(t,e,r){var n=r(3724),o=r(9504),i=r(2106),a=URLSearchParams.prototype,s=o(a.forEach);n&&!("size"in a)&&i(a,"size",{get:function(){var t=0;return s(this,function(){t++}),t},configurable:!0,enumerable:!0})},9143:function(t,e,r){var n=r(4576),o=r(9504),i=r(3972),a=r(3463),s=r(9297),c=r(2804),u=r(944),l=r(5169),h=c.c2i,d=c.c2iUrl,p=n.SyntaxError,f=n.TypeError,g=o("".charAt),m=function(t,e){for(var r=t.length;e<r;e++){var n=g(t,e);if(" "!==n&&"\t"!==n&&"\n"!==n&&"\f"!==n&&"\r"!==n)break}return e},v=function(t,e,r){var n=t.length;n<4&&(t+=2===n?"AA":"A");var o=(e[g(t,0)]<<18)+(e[g(t,1)]<<12)+(e[g(t,2)]<<6)+e[g(t,3)],i=[o>>16&255,o>>8&255,255&o];if(2===n){if(r&&0!==i[1])throw new p("Extra bits");return[i[0]]}if(3===n){if(r&&0!==i[2])throw new p("Extra bits");return[i[0],i[1]]}return i},y=function(t,e,r){for(var n=e.length,o=0;o<n;o++)t[r+o]=e[o];return r+n};t.exports=function(t,e,r,n){a(t),i(e);var o="base64"===u(e)?h:d,c=e?e.lastChunkHandling:void 0;if(void 0===c&&(c="loose"),"loose"!==c&&"strict"!==c&&"stop-before-partial"!==c)throw new f("Incorrect `lastChunkHandling` option");r&&l(r.buffer);var w=t.length,b=r||[],E=0,_=0,A="",x=0;if(n)while(1){if(x=m(t,x),x===w){if(A.length>0){if("stop-before-partial"===c)break;if("loose"!==c)throw new p("Missing padding");if(1===A.length)throw new p("Malformed padding: exactly one additional character");E=y(b,v(A,o,!1),E)}_=w;break}var P=g(t,x);if(++x,"="===P){if(A.length<2)throw new p("Padding is too early");if(x=m(t,x),2===A.length){if(x===w){if("stop-before-partial"===c)break;throw new p("Malformed padding: only one =")}"="===g(t,x)&&(++x,x=m(t,x))}if(x<w)throw new p("Unexpected character after padding");E=y(b,v(A,o,"strict"===c),E),_=w;break}if(!s(o,P))throw new p("Unexpected character");var L=n-E;if(1===L&&2===A.length||2===L&&3===A.length)break;if(A+=P,4===A.length&&(E=y(b,v(A,o,!1),E),A="",_=x,E===n))break}return{bytes:b,read:_,written:E}}},9429:function(t,e,r){var n=r(4576),o=r(6193);t.exports=function(t){if(o){try{return n.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}},9486:function(t,e,r){var n=r(6518),o=r(4576),i=r(9504),a=r(3972),s=r(4154),c=r(5169),u=r(2804),l=r(944),h=u.i2c,d=u.i2cUrl,p=i("".charAt),f=o.Uint8Array,g=!f||!f.prototype.toBase64||!function(){try{var t=new f;t.toBase64(null)}catch(e){return!0}}();f&&n({target:"Uint8Array",proto:!0,forced:g},{toBase64:function(){var t=s(this),e=arguments.length?a(arguments[0]):void 0,r="base64"===l(e)?h:d,n=!!e&&!!e.omitPadding;c(this.buffer);for(var o,i="",u=0,f=t.length,g=function(t){return p(r,o>>6*t&63)};u+2<f;u+=3)o=(t[u]<<16)+(t[u+1]<<8)+t[u+2],i+=g(3)+g(2)+g(1)+g(0);return u+2===f?(o=(t[u]<<16)+(t[u+1]<<8),i+=g(3)+g(2)+g(1)+(n?"":"=")):u+1===f&&(o=t[u]<<16,i+=g(3)+g(2)+(n?"":"==")),i}})},9577:function(t,e,r){var n=r(9928),o=r(4644),i=r(1108),a=r(1291),s=r(5854),c=o.aTypedArray,u=o.getTypedArrayConstructor,l=o.exportTypedArrayMethod,h=function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}(),d=h&&function(){try{new Int8Array(1)["with"](-.5,1)}catch(t){return!0}}();l("with",{with:function(t,e){var r=c(this),o=a(t),l=i(r)?s(e):+e;return n(r,u(r),o,l)}}["with"],!h||d)},9631:function(t,e,r){r(9486)},9797:function(t,e,r){r(4226)},9928:function(t,e,r){var n=r(6198),o=r(1291),i=RangeError;t.exports=function(t,e,r,a){var s=n(t),c=o(r),u=c<0?s+c:c;if(u>=s||u<0)throw new i("Incorrect index");for(var l=new e(s),h=0;h<s;h++)l[h]=h===u?a:t[h];return l}}}]);
//# sourceMappingURL=129.c739fd41.js.map