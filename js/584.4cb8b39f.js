"use strict";(self["webpackChunkdost"]=self["webpackChunkdost"]||[]).push([[584],{2059:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var i=a(641),r=a(33);const s={class:"text-center mt-3 mb-3"},n=["src"],o={class:"fs-13 mb-0"},l={class:"text-muted fs-11 mb-0"};function c(e,t,a,c,d,u){const p=(0,i.g2)("BListGroupItem"),m=(0,i.g2)("router-link"),h=(0,i.g2)("b-list-group"),f=(0,i.g2)("Layout");return(0,i.uX)(),(0,i.Wv)(f,null,{default:(0,i.k6)(()=>[t[6]||(t[6]=(0,i.Lk)("div",{class:"page-title-box",style:{"border-top":"1px solid #e0e0e0",position:"fixed",width:"100%","margin-top":"-24px","z-index":"100"}},[(0,i.Lk)("h6",{class:"fw-bold mb-0"},"Account Profile"),(0,i.Lk)("ol",{class:"breadcrumb mb-0"},[(0,i.Lk)("li",{class:"breadcrumb-item active fs-10"},"Essential details related to your account profile.")])],-1)),t[7]||(t[7]=(0,i.Lk)("br",null,null,-1)),t[8]||(t[8]=(0,i.Lk)("br",null,null,-1)),(0,i.bF)(h,{class:"list-group-fill-success mt-3"},{default:(0,i.k6)(()=>[(0,i.bF)(p,null,{default:(0,i.k6)(()=>[(0,i.Lk)("div",s,[(0,i.Lk)("div",{class:"profile-user position-relative d-inline-block mx-auto mb-3",onClick:t[0]||(t[0]=e=>u.ClickImage())},[(0,i.Lk)("img",{src:d.imageUrl,class:"rounded-circle avatar-lg img-thumbnail user-profile-image material-shadow"},null,8,n),t[1]||(t[1]=(0,i.Lk)("div",{class:"avatar-xs p-0 rounded-circle profile-photo-edit"},[(0,i.Lk)("label",{for:"profile-img-file-input",class:"profile-photo-edit avatar-xs"},[(0,i.Lk)("span",{class:"avatar-title rounded-circle bg-light text-body"},[(0,i.Lk)("i",{class:"ri-camera-fill"})])])],-1))]),(0,i.Lk)("h5",o,(0,r.v_)(e.$store.state.auth.user.data.firstname)+" "+(0,r.v_)(e.$store.state.auth.user.data.lastname),1),(0,i.Lk)("p",l,(0,r.v_)(e.$store.state.auth.user.data.email),1)])]),_:1}),(0,i.bF)(m,{to:"/information"},{default:(0,i.k6)(()=>[(0,i.bF)(p,{href:"#",class:"list-group-item-action fs-11"},{default:(0,i.k6)(()=>[...t[2]||(t[2]=[(0,i.Lk)("i",{class:"ri-profile-fill align-middle me-2"},null,-1),(0,i.eW)("Personal Information ",-1)])]),_:1})]),_:1}),(0,i.bF)(p,{href:"#",class:"list-group-item-action fs-11"},{default:(0,i.k6)(()=>[...t[3]||(t[3]=[(0,i.Lk)("i",{class:"ri-shield-check-line align-middle me-2"},null,-1),(0,i.eW)("Password & Security ",-1)])]),_:1}),(0,i.bF)(p,{href:"#",class:"list-group-item-action fs-11"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.Lk)("i",{class:"ri-shield-keyhole-fill align-middle me-2"},null,-1),(0,i.eW)("Authentication Logs ",-1)])]),_:1}),(0,i.bF)(p,{href:"#",class:"list-group-item-action fs-11"},{default:(0,i.k6)(()=>[...t[5]||(t[5]=[(0,i.Lk)("i",{class:"ri-history-line align-middle me-2"},null,-1),(0,i.eW)("Activity Logs ",-1)])]),_:1})]),_:1})]),_:1})}var d=a(4335),u=a(2238),p=a(5111),m={components:{Layout:u.A},data(){return{lists:[],participant_id:this.$store.state.auth.user.data.id,load:!1,imageUrl:"",render:!1}},methods:{async ClickImage(){await p.i7.getPhoto({quality:90,allowEditing:!1,source:p.ru.Camera,resultType:p.LK.Base64}).then(e=>{this.render=!0,this.imageUrl=String(e.base64String),this.imageUrl="data:image/jpeg;base64,"+this.imageUrl;let t=new FormData;t.append("id",this.$store.state.auth.user.data.id),t.append("image",this.imageUrl);let a={header:{"Content-Type":"multipart/form-data"}};d.A.post("/avatar",t,a).then(e=>{e.data.status&&console.log("wew")}).catch(({response:e})=>{422===e.status?this.validationErrors=e.data.errors:(this.validationErrors={},alert(e.data.message))}).finally(()=>{})})}}},h=a(6262);const f=(0,h.A)(m,[["render",c]]);var g=f},5111:function(e,t,a){a.d(t,{i7:function(){return l},Jb:function(){return r},LK:function(){return s},ru:function(){return i}});var i,r,s,n=a(6546);(function(e){e["Prompt"]="PROMPT",e["Camera"]="CAMERA",e["Photos"]="PHOTOS"})(i||(i={})),function(e){e["Rear"]="REAR",e["Front"]="FRONT"}(r||(r={})),function(e){e["Uri"]="uri",e["Base64"]="base64",e["DataUrl"]="dataUrl"}(s||(s={}));class o extends n.E_{async getPhoto(e){return new Promise(async(t,a)=>{if(e.webUseInput||e.source===i.Photos)this.fileInputExperience(e,t,a);else if(e.source===i.Prompt){let i=document.querySelector("pwa-action-sheet");i||(i=document.createElement("pwa-action-sheet"),document.body.appendChild(i)),i.header=e.promptLabelHeader||"Photo",i.cancelable=!1,i.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],i.addEventListener("onSelection",async i=>{const r=i.detail;0===r?this.fileInputExperience(e,t,a):this.cameraExperience(e,t,a)})}else this.cameraExperience(e,t,a)})}async pickImages(e){return new Promise(async(e,t)=>{this.multipleFileInputExperience(e,t)})}async cameraExperience(e,t,a){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=e.direction===r.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async i=>{const r=i.detail;null===r?a(new n.I9("User cancelled photos app")):r instanceof Error?a(r):t(await this._getCameraPhoto(r,e)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch(i){this.fileInputExperience(e,t,a)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,t,a)}fileInputExperience(e,t,a){let s=document.querySelector("#_capacitor-camera-input");const o=()=>{var e;null===(e=s.parentNode)||void 0===e||e.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",a=>{const i=s.files[0];let r="jpeg";if("image/png"===i.type?r="png":"image/gif"===i.type&&(r="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){const a=new FileReader;a.addEventListener("load",()=>{if("dataUrl"===e.resultType)t({dataUrl:a.result,format:r});else if("base64"===e.resultType){const e=a.result.split(",")[1];t({base64String:e,format:r})}o()}),a.readAsDataURL(i)}else t({webPath:URL.createObjectURL(i),format:r}),o()}),s.addEventListener("cancel",e=>{a(new n.I9("User cancelled photos app")),o()})),s.accept="image/*",s.capture=!0,e.source===i.Photos||e.source===i.Prompt?s.removeAttribute("capture"):e.direction===r.Front?s.capture="user":e.direction===r.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(e,t){let a=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var e;null===(e=a.parentNode)||void 0===e||e.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input-multiple",a.type="file",a.hidden=!0,a.multiple=!0,document.body.appendChild(a),a.addEventListener("change",t=>{const r=[];for(let e=0;e<a.files.length;e++){const t=a.files[e];let i="jpeg";"image/png"===t.type?i="png":"image/gif"===t.type&&(i="gif"),r.push({webPath:URL.createObjectURL(t),format:i})}e({photos:r}),i()}),a.addEventListener("cancel",e=>{t(new n.I9("User cancelled photos app")),i()})),a.accept="image/*",a.click()}_getCameraPhoto(e,t){return new Promise((a,i)=>{const r=new FileReader,s=e.type.split("/")[1];"uri"===t.resultType?a({webPath:URL.createObjectURL(e),format:s,saved:!1}):(r.readAsDataURL(e),r.onloadend=()=>{const e=r.result;"dataUrl"===t.resultType?a({dataUrl:e,format:s,saved:!1}):a({base64String:e.split(",")[1],format:s,saved:!1})},r.onerror=e=>{i(e)})})}async checkPermissions(){if("undefined"===typeof navigator||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{const e=await window.navigator.permissions.query({name:"camera"});return{camera:e.state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new o;const l=(0,n.F3)("Camera",{web:()=>new o})}}]);
//# sourceMappingURL=584.4cb8b39f.js.map